<?php
foreach ($tahun_tahun->result() as $row) {
    $yearName = $row->TAHUN_TAHUN;    
}
?>
<h4>Tahun <?php echo $yearName.': '; ?>Bab 5.4.a Jumlah Operasi</h4>
<thead>
    <tr>
        <th rowspan="3">No</th>
        <th rowspan="3">Region</th>
        <th rowspan="3">Kode RS</th> 
        <th rowspan="3">Nama RS</th>

        <th colspan="15">Bedah Umum</th>
        <th colspan="15">Bedah Orthopedi</th>
        <th colspan="15">Bedah Saraf</th>
        <th colspan="15">Bedah Urologi</th>
        <th colspan="15">Bedah Plastik</th>
        <th colspan="15">Bedah Anak</th>
        <th colspan="15">Bedah Digesif</th>
        <th colspan="15">Bedah Kardiotoraka</th>
        <th colspan="15">Bedah Onkologi</th>
        <th colspan="15">Bedah Vascular</th>
        <th colspan="15">Obstetrik & Ginekologi</th>
        <th colspan="15">THT</th>
        <th colspan="15">Mata</th>
        <th colspan="15">Kulit Kelamin</th>
        <th colspan="15">Gigi & Mulut</th>
        <th colspan="15">Kardiologi</th>
        <th colspan="15">Paru-Paru</th>
        <th colspan="15">Lain-Lain</th> 
        <th rowspan="3">Analisa</th>
    </tr>
    <tr>
        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>

        <th colspan="5">n-2</th>
        <th colspan="5">n-1</th>
        <th colspan="5">n</th>
    </tr>
    <tr>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
		
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
		
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>

        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
        <th>Khusus</th>
        <th>Besar</th>
        <th>Sedang</th>
        <th>Kecil</th>
        <th>Total</th>
    </tr>
</thead>
<tbody>
    <?php
    $i = 1;
    
    $analisaRest = $analisa->result();
	$trackAnalisa = 0;


    $row = $data_51_16->result();

    $rs_count = $num_51_16;
	$total = array_fill(0,306,0);
    $track = 0;
    for ($j = 0; $j < $rs_count; $j++) {
	$ind =0;
        echo '<tr>';
        echo '<td>' . $i++ . '</td>';
        echo '<td>' . $row[$track]->daftar_list_region . '</td>';
        echo '<td>' . $row[$track]->KODE_REGISTRASI . '</td>';
        echo '<td>' . $row[$track]->RS_NAMA . '</td>';
        for ($k = 0; $k < 18; $k++) {
            echo '<td>' . $row[$track]->OPERASI_KHUSUS_N2 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_BESAR_N2 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_SEDANG_N2 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_KECIL_N2 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_TOTAL_N2 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_KHUSUS_N1 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_BESAR_N1 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_SEDANG_N1 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_KECIL_N1 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_TOTAL_N1 . '</td>';
            echo '<td>' . $row[$track]->OPERASI_KHUSUS_N . '</td>';
            echo '<td>' . $row[$track]->OPERASI_BESAR_N . '</td>';
            echo '<td>' . $row[$track]->OPERASI_SEDANG_N . '</td>';
            echo '<td>' . $row[$track]->OPERASI_KECIL_N . '</td>';
            echo '<td>' . $row[$track]->OPERASI_TOTAL_N . '</td>';
			
			$total[$ind] += $row[$track]->OPERASI_KHUSUS_N2 ; 
			$total[++$ind] += $row[$track]->OPERASI_BESAR_N2  ;  
			$total[++$ind] += $row[$track]->OPERASI_SEDANG_N2 ;
			$total[++$ind] += $row[$track]->OPERASI_KECIL_N2  ;  
			$total[++$ind] += $row[$track]->OPERASI_TOTAL_N2 ; 
			
			$total[++$ind] += $row[$track]->OPERASI_KHUSUS_N1 ; 
			$total[++$ind] += $row[$track]->OPERASI_BESAR_N1  ;  
			$total[++$ind] += $row[$track]->OPERASI_SEDANG_N1 ;
			$total[++$ind] += $row[$track]->OPERASI_KECIL_N1  ;  
			$total[++$ind] += $row[$track]->OPERASI_TOTAL_N1 ;  
			
			$total[++$ind] += $row[$track]->OPERASI_KHUSUS_N ; 
			$total[++$ind] += $row[$track]->OPERASI_BESAR_N  ;  
			$total[++$ind] += $row[$track]->OPERASI_SEDANG_N ;
			$total[++$ind] += $row[$track]->OPERASI_KECIL_N  ;  
			$total[++$ind] += $row[$track]->OPERASI_TOTAL_N ;  
			
			$ind++;
            $track++;
        }
       //analisa
		$analisaData = null;
        if (count($analisaRest)!= null){ 
			for( $trackAnalisa = 0; $trackAnalisa  < count($analisaRest) ; $trackAnalisa++){
				if($analisaRest[$trackAnalisa]->RS_NOREG == $row[$track-1]->RS_NOREG  )
				{ 
						$analisaData = $analisaRest[$trackAnalisa]->ANALISA_URAIAN;
						break; 
				}  
			} 
		}
		
		if($analisaData != null)
			echo '<td>'.$analisaData.'</td>';
		else
			echo '<td>-</td>';
		//////////////////
		
        echo '</tr>';
    }
	if( $row!=null){
	echo '<tr>';
		echo '<td><b>Total</b></td>';
		echo '<td> </td> <td> </td> <td> </td>'; 
			for($i = 0; $i < 270; $i++){
				 echo '<td>' . $total[$i]. '</td>';  
			}  
				echo '<td>-</td>';
	echo '</tr>';
	
	}
    ?>
</tbody>